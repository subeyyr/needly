{% extends "base.html" %}

{% block content %}
<div class="relative flex min-h-screen w-full items-center justify-center p-4">

  <!-- Background gradients (brand consistent) -->
  <div class="absolute inset-0 z-0">
    <div class="absolute top-[-15%] left-[-20%] h-[500px] w-[500px] rounded-full bg-primary/20 blur-3xl"></div>
    <div class="absolute bottom-[-15%] right-[-20%] h-[500px] w-[500px] rounded-full bg-primary/20 blur-3xl"></div>
  </div>

  <div class="relative z-10 w-full max-w-md">

    <!-- Header -->
    <div class="mb-8 text-center">
      <h2 class="text-3xl font-bold">Needly</h2>
      <p class="mt-2 text-2xl font-black">Create your account</p>
      <p class="mt-1 text-sm text-slate-600 dark:text-slate-400">
        Get started with trusted local services
      </p>
    </div>

    <!-- Card -->
    <div class="rounded-xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-background-dark/60 p-6 shadow-lg backdrop-blur-md">

      <!-- ðŸ”´ FORM ERRORS (CRITICAL) -->
      {% if form.errors %}
        <div class="mb-4 rounded-lg bg-red-50 p-3 text-sm text-red-600">
          {% for field in form %}
            {% for error in field.errors %}
              <p>{{ error }}</p>
            {% endfor %}
          {% endfor %}
          {% for error in form.non_field_errors %}
            <p>{{ error }}</p>
          {% endfor %}
        </div>
      {% endif %}

      <!-- FORM -->
      <form method="POST" class="space-y-5">
        {% csrf_token %}

        <!-- Username -->
        <div>
          <label class="text-sm font-medium">Username</label>
          <input
            type="text"
            name="username"
            required
            class="mt-2 w-full h-12 rounded-lg border px-4 focus:ring-2 focus:ring-primary bg-white dark:bg-slate-900"
            placeholder="Choose a username"
          />
        </div>

        <!-- Password -->
        <div>
          <label class="text-sm font-medium">Password</label>
          <input
            type="password"
            name="password1"
            required
            class="mt-2 w-full h-12 rounded-lg border px-4 focus:ring-2 focus:ring-primary bg-white dark:bg-slate-900"
            placeholder="Create a strong password"
          />
        </div>

        <!-- Confirm Password -->
        <div>
          <label class="text-sm font-medium">Confirm Password</label>
          <input
            type="password"
            name="password2"
            required
            class="mt-2 w-full h-12 rounded-lg border px-4 focus:ring-2 focus:ring-primary bg-white dark:bg-slate-900"
            placeholder="Re-enter your password"
          />
        </div>

        <!-- Submit -->
        <button
          type="submit"
          class="w-full h-12 rounded-lg bg-primary text-white font-bold hover:bg-primary/90 transition"
        >
          Sign Up
        </button>
      </form>

      <!-- Footer -->
      <p class="mt-6 text-center text-sm text-slate-600 dark:text-slate-400">
        Already have an account?
        <a href="{% url 'login' %}" class="font-bold text-primary hover:underline">
          Log in
        </a>
      </p>

    </div>
  </div>
</div>
{% endblock %}
